\begin{figure}
\small
\begin{minipage}[c]{\linewidth}
  \lstDeleteShortInline{|}
  \[
  \boxed{
  \begin{array}{lcl}
    \V           & \defeq & \List{\R}\\
    \Runit       & \defeq & \{r \in \R\ |\ 0 \le r \le 1\} \\
    \T           & \defeq & e^{RTL} \\
    \Dataset     & \defeq & \List{e \times e} \\
    \Emap{a}     & \defeq & e \to a \\
    \Tmap{a}     & \defeq & \T \to a \\
    \featuresym  & \defeq & \List{\Emap{\R}} \\
    \midrule
    \abstrsym    & : & e \to \T \\
    \diffsym     & : & e \times e \to \List{e} \\
    % \templatesym & : & \List{e} \to \List{\T}\\
    % \clustersym  & : & \List{\T} \to \List{\T}\\
    \extractTsym & : & \featuresym \to \List{\T} \to e \times e \\
                 &   & \quad \to \Emap{(\V \times \B \times \Tmap{\B})} \\
    \trainTsym   & : & \List{\V \times \B \times \Tmap{\B}} \to \Model \times \ModelT \\
    \predictTsym & : & \Model \times \ModelT \to \V \to \Runit \times \Tmap{\Runit} \\
    \midrule
    \repairsym   & : & \featuresym \to \Dataset \to \List{\T} \to e \\
                 &   & \quad \to \Emap{(\Runit \times \Tmap{\Runit})}
  \end{array}
  }
  \]
  \lstMakeShortInline[mathescape=true]{|}
  \captionof{figure}{
    A high-level API for converting program pairs to
    feature vectors and template labels.
  }
  \label{fig:api}
\end{minipage}
\end{figure}
