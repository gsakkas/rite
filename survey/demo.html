<html>
<head>

    <title>Type Error Debugging Survey</title>
    <link href=
    "http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel=
    "stylesheet" type="text/css">
    <link href=
    "http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css"
    rel="stylesheet" type="text/css">
    <!-- <script async src="//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js" type= -->
    <!-- "text/javascript"> -->
    <!-- </script> -->
    <script src="http://code.jquery.com/jquery-2.1.4.min.js" type="text/javascript">
    </script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"
    type="text/javascript">
    </script>
    <script src="zepto.min.js" type="text/javascript">
    </script>
    <link href="vis.css" rel="stylesheet" type="text/css">
    <script src="vis.js" type="text/javascript">
    </script>
    <script src="codemirror-min.js" type="text/javascript">
    </script>
    <link href="codemirror.css" rel="stylesheet" type="text/css">
    <link href="dialog.css" rel="stylesheet" type="text/css">
    <link href="lint.css" rel="stylesheet" type="text/css">
    <link href="nanoml.css" rel="stylesheet" type="text/css">
    <script src="demo.js" type="text/javascript">
    </script>


<!-- <title>Type Error Debugging Survey</title> -->

<!-- <link type="text/css" href="jquery-ui/css/smoothness/jquery-ui-1.8.18.custom.css" rel="stylesheet" /> -->
<!-- <script type="text/javascript" src="jquery-1.7.2.min.js"></script> -->
<!-- <script type="text/javascript" src="jquery-ui/js/jquery-ui-1.8.18.custom.min.js"></script> -->

<!-- <link rel="stylesheet" type="text/css" href="survey.css" /> -->
<!-- <script src="survey.js"></script> -->

<script type="text/javascript">
  $(document).ready(function(){
    setup();
  });
</script>
</head>

<body>
    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="#">NanoMaLy</a>
            </div>
            <ul class="nav navbar-nav">
                <!-- <li class="dropdown"> -->
                <!--     <button class="btn btn-default navbar-btn dropdown-toggle" -->
                <!--     data-toggle="dropdown" id="loadMenu" type="button">Demo -->
                <!--     <span class="caret"></span></button> -->
                <!--     <ul class="dropdown-menu"> -->
                <!--         <li> -->
                <!--             <a onclick="loadDemo('factorial')">factorial</a> -->
                <!--         </li> -->
                <!--         <li> -->
                <!--             <a onclick="loadDemo('wwhile')">wwhile</a> -->
                <!--         </li> -->
                <!--         <li> -->
                <!--             <a onclick="loadDemo('loop')">loop</a> -->
                <!--         </li> -->
                <!--         <li> -->
                <!--             <a onclick="loadDemo('palindrome')">palindrome</a> -->
                <!--         </li> -->
                <!--     </ul> -->
                <!-- </li> -->
            </ul>
            <form class="navbar-form navbar-left">
                <!-- <div class="form-group"> -->
                <!--     <\!-- <input class="form-control" id="var-input" name="var" -\-> -->
                <!--     <\!-- placeholder="check this function" style= -\-> -->
                <!--     <\!-- "font-family: monospace;" type="text"> -\-> -->
                    
                <!--     <button class= "btn btn-default" id="submit-btn" -->
                <!--     type= "submit">Submit!</button> -->
                <!-- </div> -->
            </form>
            <form class="navbar-form navbar-right">
                <div class="form-group">
                    <button class="btn btn-default" disabled="disabled"
                    id="undo" onclick="stepUndo()"
                    type="button">Undo</button>
                    
                    <button class="btn btn-default" disabled="disabled"
                    id="step-forward" onclick= "stepForward()"
                    type="button">Step forward</button>
                    
                    <button class="btn btn-default" disabled=
                    "disabled" id="step-backward" onclick="stepBackward()"
                    type="button">Step backward</button>
                    
                    <button class= "btn btn-default" disabled="disabled"
                    id="jump-forward" onclick="jumpForward()"
                    type="button">Jump forward</button>
                    
                    <button class="btn btn-default" disabled= "disabled"
                    id="jump-backward" onclick="jumpBackward()"
                    type="button">Jump backward</button>
                    
                    <!-- <button class= "btn btn-default" disabled="disabled" -->
                    <!-- id="step-into" onclick="stepInto()" -->
                    <!-- type="button">Step into</button> -->

                    <!-- <button class="btn btn-default" disabled= "disabled" -->
                    <!-- id="step-over" onclick="stepOver()" type= -->
                    <!-- "button">Step over</button> -->
                </div>
            </form>
        </div>
    </nav>

    <div class="mybody row">
      <div class="mybody col-md-3">
        <p>
          This demonstration will familiarize you with interactive traces of
          failed executions. Follow these steps:
        </p>
        <ol>
          <li>
            Mouse over the underlined code on the left to see the type error <code>could not match int with bool</code>.
          </li>
          <li>
            Take a look at the graphical representation of the execution on the
            right. Notice the trace began by calling <code>fac 2</code> and got
            stuck at <code>2 * (1 * true)</code>, specifically when it tried to
            evaluate the sub-expression <code>1 * true</code>.
          </li>
          <li>
            Click on the <code>fac 2</code> node. Notice that the "Step forward"
            and "Jump forward" buttons at the top are no longer disabled. This
            means we can take a single step forward from <code>fac 2</code>, or
            jump forward to the next function call.
          </li>
          <li>
            Click "Jump forward". This inserts a new node in the trace, <code>2 * fac 1</code>.
          </li>
          <li>
            Select the <code>2 * (1 * true)</code> node and click "Step
            backward". Notice that the <code>true</code> has been replaced
            by <code>if true then true else ...</code>.
          <li>
            Step backward a few more times (or alternatively, Jump backward
            once) until you reach the expression <code>2 * (1 * fac 0)</code>.
            It's clear now that the type error arose because the <code>fac 0</code>
            call evaluated to <code>true</code> when it should have
            been <code>1</code>, the base case.
          </li>
          <li>
            So for this snippet, we would mark the <code>true</code> on line 3
            as the source of the error, explain how the program tried to
            multiply that <code>true</code> by <code>1</code>, and fix the
            program by replacing <code>true</code> with <code>1</code>.
          </li>
          <li>
            Done! Close this tab when you're ready and start the survey.
          </li>
        </ol>
      </div>     
      <div class="mybody col-md-3">
            <textarea id="prog" name="prog">
            </textarea>
            <!-- <br/> -->
            <!-- <form class="col-sm-offset-1 form-horizontal"> -->
            <!--   <div class="form-group row"> -->
            <!--     <\!-- <input class="form-control" id="var-input" name="var" -\-> -->
            <!--     <\!-- placeholder="check this function" style= -\-> -->
            <!--     <\!-- "font-family: monospace;" type="text"> -\-> -->
            <!--     <label for="cause" class="col-sm-2 control-label">Cause</label> -->
            <!--     <div class="col-sm-10"> -->
            <!--       <textarea id="cause" name="cause" class="form-control" rows="3"></textarea> -->
            <!--     </div> -->
            <!--   </div> -->
            <!--   <div class="form-group row"> -->
            <!--     <label for="explanation" class="col-sm-2 control-label">Explanation</label> -->
            <!--     <div class="col-sm-10"> -->
            <!--       <textarea id="explanation" name="explanation" class="form-control" rows="3"></textarea> -->
            <!--     </div> -->
            <!--   </div> -->
            <!--   <div class="form-group row"> -->
            <!--     <label for="fix" class="col-sm-2 control-label">Fix</label> -->
            <!--     <div class="col-sm-10"> -->
            <!--       <textarea id="fix" name="fix" class="form-control" rows="3"></textarea> -->
            <!--     </div> -->
            <!--   </div> -->
            <!--   <\!-- <div class="form-group row">     -\-> -->
            <!--   <\!--   <div class="col-sm-offset-2 col-sm-4"> -\-> -->
            <!--   <\!--     <button class="btn btn-default" id="submit-btn" -\-> -->
            <!--   <\!--             type="submit">Submit!</button> -\-> -->
            <!--   <\!--   </div> -\-> -->
            <!--   <\!-- </div> -\-> -->
            <!-- </form> -->
        </div>
        <div class="mybody col-md-6">
          <!-- <div class="alert alert-info" id="safe-banner" style="display: none;"> -->
          <!--   Couldn't find a type error.. -->
          <!-- </div> -->
          <!-- <div class="alert alert-warning" id="unsafe-banner" style= -->
          <!--      "display: none;"> -->
          <!--   Your program contains a type error! -->
          <!-- </div> -->
          <div class="mybody" id="vis" style="border: 1px solid lightgray;">
          </div>
        </div>
    </div>



<!-- <h2>Example Code</h2> -->
<!-- <table cellpadding=0 cellspacing=0 border=0> -->
<!-- <tr> -->
<!--   <td class="selection" style="border: 0; width: 3em"> -->
<!--     <div class="radio"><input type="radio" name="rating" value="A"><br/>A</div> -->
<!--   </td> -->
<!--   <td><code id="left"></code></td> -->
<!-- </tr><tr> -->
<!--   <td class="selection" style="border: 0; width: 3em"> -->
<!--     <div class="radio"><input type="radio" name="rating" value="B"><br/>B</div> -->
<!--   </td> -->
<!--   <td><code id="right"></code></td> -->
<!-- </tr> -->
<!-- </table> -->

<!-- <h2>History</h2> -->
<!-- <div id="history"></div> -->

<!-- <h2>&nbsp;</h2> -->

</body>
</html>
