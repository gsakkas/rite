
let f a b a = a * b;;

let pipe fs =
  let f a x = f (x a) in let base x = x in List.fold_left f base fs;;


(* fix

let pipe fs =
  let f a x b = x (a b) in let base x = x in List.fold_left f base fs;;

*)

(* changed spans
(2,6)-(2,19)
(2,8)-(2,19)
(2,10)-(2,19)
(2,14)-(2,15)
(2,14)-(2,19)
(2,18)-(2,19)
(5,14)-(5,15)
(5,14)-(5,21)
(5,19)-(5,20)
(5,25)-(5,67)
*)

(* type error slice
(2,3)-(2,21)
(2,6)-(2,19)
(2,8)-(2,19)
(2,10)-(2,19)
(2,14)-(2,19)
(2,18)-(2,19)
(5,2)-(5,67)
(5,8)-(5,21)
(5,10)-(5,21)
(5,14)-(5,15)
(5,14)-(5,21)
(5,25)-(5,67)
(5,34)-(5,39)
(5,38)-(5,39)
(5,43)-(5,57)
(5,43)-(5,67)
(5,58)-(5,59)
(5,60)-(5,64)
*)

(* all spans
(2,6)-(2,19)
(2,8)-(2,19)
(2,10)-(2,19)
(2,14)-(2,19)
(2,14)-(2,15)
(2,18)-(2,19)
(4,9)-(5,67)
(5,2)-(5,67)
(5,8)-(5,21)
(5,10)-(5,21)
(5,14)-(5,21)
(5,14)-(5,15)
(5,16)-(5,21)
(5,17)-(5,18)
(5,19)-(5,20)
(5,25)-(5,67)
(5,34)-(5,39)
(5,38)-(5,39)
(5,43)-(5,67)
(5,43)-(5,57)
(5,58)-(5,59)
(5,60)-(5,64)
(5,65)-(5,67)
*)
